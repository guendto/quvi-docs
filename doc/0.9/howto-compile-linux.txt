howto-compile-linux(7)
======================

NAME
----
howto-compile-linux - Overview of the steps to compile quvi on GNU/Linux

DESCRIPTION
-----------

This document is an overview on how to compile and install the quvi
project {libquvi-scripts, libquvi, quvi} on a GNU/Linux system.

.Notes

* This document is Debian oriented but should translate easily to other
  GNU/Linux systems

* Each project has a different set of the prerequisites, and have been
  covered in their corresponding README files under "Requirements"

* This documentation uses VPATH to confine all derived files to a single
  directory, to keep the source directories uncluttered

* These instructions were written with 0.9+ in mind, though they could
  be followed to build and install 0.4 with different {prerequisites,
  download links}

Building and installation
-------------------------

* Install the prerequisites:
+
----
$ sudo aptitude install build-essential libgcrypt11-dev     \
                        libjson-glib-dev libxml2-dev        \
                        liblua5.1-bitop0 liblua5.1-expat    \
                        liblua5.1-json liblua5.1-socket2    \
                        libcurl4-gnutls-dev liblua5.1-0-dev \
                        libproxy-dev
----

* Create a directory for building the software:
+
----
$ cd ~
$ mkdir -p build/{inst,tar} ; cd build/tar
----

* Get the official releases:
+
----
$ wget http://downloads.sourceforge.net/project/quvi/0.9/libquvi-scripts/libquvi-scripts-0.9.20130520.tar.xz
$ wget http://downloads.sourceforge.net/project/quvi/0.9/libquvi/libquvi-0.9.1.tar.xz
$ wget http://downloads.sourceforge.net/project/quvi/0.9/quvi/quvi-0.9.1.tar.xz
----

* Export the destination path for practical purposes:
+
----
$ cd ..
$ export DEST=`pwd`/inst
----
+
The software will be installed to the ~/build/inst/ directory.

* Extract, compile and install libquvi-scripts:
+
----
$ tar xf tar/libquvi-scripts-0.9.20130520.tar.xz
$ cd libquvi-scripts-0.9.20130520
$ mkdir inst ; cd inst
$ ../configure --prefix=$DEST && make install
$ cd ../..
----

* Extract, compile and install libquvi:
+
----
$ tar xf tar/libquvi-0.9.1.tar.xz
$ cd libquvi-0.9.1
$ mkdir inst ; cd inst
$ PKG_CONFIG_PATH=$DEST/lib/pkgconfig/ ../configure --prefix=$DEST
$ make install
$ cd ../..
----

* Extract, compile and install quvi:
+
----
$ tar xf tar/quvi-0.9.1.tar.xz
$ cd quvi-0.9.1
$ mkdir inst ; cd inst
$ PKG_CONFIG_PATH=$DEST/lib/pkgconfig/ ../configure --prefix=$DEST
$ make install
$ cd ../..
----

Running
-------

* The executable can be found in the 'bin' directory:
+
----
$ $DEST/bin/quvi --version
----

* Modify MANPATH so that 'man(1)' will find the installed manpages:
+
----
$ export MANPATH=$MANPATH:$DEST/share/man/
$ man 1 quvi-get
$ $DEST/bin/quvi help get
----
